<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript">
    </script>
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Hammersmith+One|Open+Sans:400,600">
    <link rel="stylesheet" href="/asset/app.css">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@ZOMBSio">
    <meta name="og:title" content="ZOMBS.io | Build. Defend. Survive.">
    <meta name="og:description"
        content="Play ZOMBS.io - a new Zombie tower defense game. Build your base and defend it against zombies at night!">
</head>

<body>
    <div id="hud-intro" class="hud-intro">
        <video autoplay muted loop id="background-video">
            <source src="/asset/black.png" type="video/mp4">
        </video>
        <div class="hud-intro-wrapper">
            <h1>Sav Zombs.io</h1>
            <h2></h2>
            <div class="hud-intro-main">
                <div class="hud-intro-left">
                    <div class="session_saver" style="margin:0 0 20px;">
                    </div>
                </div>
                <div class="hud-intro-form">
                    <input type="text" class="hud-intro-name" maxlength="29" placeholder="Your nickname...">
                    <select class="hud-intro-server">
                        <optgroup label="US East">
                            <option value="v1001" selected="">v1001 US East #1 [null]</option>
                            <option value="v1002">v1002 US East #2 [null]</option>
                            <option value="v1003">v1003 US East #3 [null]</option>
                            <option value="v1004" >v1004 US East #4 [null]</option>
                            <option value="v1005">v1005 US East #5 [null]</option>
                            <option value="v1006">v1006 US East #6 [null]</option>
                            <option value="v1007">v1007 US East #7 [null]</option>
                            <option value="v1008">v1008 US East #8 [null]</option>
                        </optgroup>
                        <optgroup label="US West">
                            <option value="v2001">v2001 US West #1 [null]</option>
                            <option value="v2002">v2002 US West #2 [null]</option>
                            <option value="v2003">v2003 US West #3 [null]</option>
                        </optgroup>
                        <optgroup label="Europe">
                            <option value="v5001">v5001 Europe #1 [null]</option>
                            <option value="v5002">v5002 Europe #2 [null]</option>
                            <option value="v5003">v5003 Europe #3 [null]</option>
                            <option value="v5004">v5004 Europe #4 [null]</option>
                            <option value="v5005">v5005 Europe #5 [null]</option>
                            <option value="v5006">v5006 Europe #6 [null]</option>
                            <option value="v5007">v5007 Europe #7 [null]</option>
                        </optgroup>
                        <optgroup label="Asia">
                            <option value="v3001">v3001 Asia #1 [null]</option>
                        </optgroup>
                        <optgroup label="Australia">
                            <option value="v4001">v4001 Australia #1 [null]</option>
                            <option value="v4002">v4002 Australia #2 [null]</option>
                        </optgroup>
                    </select>
                    <button type="submit" class="btn hud-intro-play">Play</button>
                    <button type="submit" class="btn hud-intro-play">Send Session</button>
                    <span class="hud-intro-error"></span>
                    <label>
                        <input type="checkbox" class="hud-intro-canvas" name="canvas" value="true">
                        <span>Disable GPU Acceleration</span>
                    </label>
                </div>
                <div class="hud-intro-guide">
                    <div class="hud-intro-guide-changelog">
                        <h3>Essentials</h3>
                        <ul class="hud-intro-guide-hints">
                            <li><span class="hud-intro-guide-icon hud-intro-guide-base"></span> Build a gold stash to
                                establish your base and start defending.</li>
                            <li><span class="hud-intro-guide-icon hud-intro-guide-resources"></span> Collect resources
                                with your pickaxe to upgrade your base.</li>
                            <li><span class="hud-intro-guide-icon hud-intro-guide-towers"></span> Build towers to defend
                                against zombies.</li>
                            <li><span class="hud-intro-guide-icon hud-intro-guide-gold-mine"></span> Build gold mines to
                                generate gold and upgrade your buildings.</li>
                            <li><span class="hud-intro-guide-icon hud-intro-guide-shop"></span> Use the Shop to buy
                                weapons and upgrade them.</li>
                        </ul>
                        <h3>How to Play</h3>
                        <p>just learn it from yt.</p>
                        <h3>Controls</h3>
                        <ul class="hud-intro-guide-controls">
                            <li>Movement: <strong>W, A, S, D</strong></li>
                            <li>Turn: <strong>Mouse</strong></li>
                            <li>Gather/Attack/Build: <strong>Left-Click</strong></li>
                            <li>Unselect: <strong>Esc or Right-Click</strong></li>
                            <li>Auto-Attack: <strong>Space</strong></li>
                            <li>Quick Upgrade: <strong>E</strong></li>
                            <li>Quick Sell: <strong>T</strong></li>
                            <li>Quick Heal: <strong>F</strong></li>
                            <li>Upgrade All: <strong>Hold Shift or Alt</strong></li>
                            <li>Cycle Weapons: <strong>Q</strong></li>
                            <li>Shop Menu: <strong>B</strong></li>
                            <li>Party Menu: <strong>P</strong></li>
                            <li>Other: <strong>Coming Soon...</strong></li>
                        </ul>
                    </div>
                </div>
                <div class="ad-unit ad-unit-leaderboard ad-unit-leaderboard-atf">
                    <div id="ad-leaderboard-1"></div>
                </div>
            </div>
            <div class="hud-intro-corner-top-left">
                <div class="hud-intro-youtuber">
                </div>
            </div>
            <div class="hud-intro-corner-top-right">
                <div class="hud-intro-leaderboard">
                    <h3>Top <select name="category" class="hud-intro-leaderboard-category">
                            <option value="wave">Wave</option>
                            <option value="score">Score</option>
                        </select> For <select name="time" class="hud-intro-leaderboard-time">
                            <option value="24h">Today</option>
                            <option value="7d">This Week</option>
                            <option value="all">All Time</option>
                        </select></h3>
                </div>
            </div>
            <div class="hud-intro-corner-bottom-left">
                <div class="hud-intro-social">
                </div>
            </div>
            <div class="hud-intro-corner-bottom-right">
                <div class="hud-intro-more-games">
                </div>
            </div>
        </div>

        <script src="/asset/pixi.js"></script>
        <script src="/asset/app.js"></script>
        <script>
            const notAllowedCharsInHTML = new Map([["<", '&lt;'], [">", '&gt;']]);
            const Sanitize = (e) => {
                let text = "";
                for (let i = 0; i < e.length; i++) {
                    notAllowedCharsInHTML.has(e[i]) ? text += notAllowedCharsInHTML.get(e[i]) : text += e[i];
                }
                return text;
            }
            let isAllowedToGrabLb = false;
            let allPlayers = 0;
            let allEastPlayers = 0;
            let allWestPlayers = 0;
            let allEuPlayers = 0;
            let allAsiaPlayers = 0;
            let allAusPlayers = 0;
            let allSaPlayers = 0;
            fetch("https://teaching-vastly-elf.ngrok-free.app/data").then(res => res.json()).then(data => {
                Object.keys(data).forEach(e => {
                    allPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1;
                    e.startsWith("v1") && (allEastPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1);
                    e.startsWith("v2") && (allWestPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1);
                    e.startsWith("v5") && (allEuPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1);
                    e.startsWith("v3") && (allAsiaPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1);
                    e.startsWith("v4") && (allAusPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1);
                    e.startsWith("v6") && (allSaPlayers += data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1);
                    document.querySelectorAll("option").forEach(f => {
                        f.value == e && (f.innerHTML = Sanitize(`${game.options.servers[e].name} [${data[e].pop == 32 ? (data[e].lb[0] ? 31 : 32) : data[e].pop - 1}/32] | ${data[e].lb[0] ? (data[e].lb.sort((a, b) => b.wave - a.wave)[0].wave + ": " + data[e].lb.sort((a, b) => b.wave - a.wave)[0].name) : (0, "Unknown")} | ${data[e].lb[0] ? ((data[e].lb.sort((a, b) => b.score - a.score)[0].score / 1e9).toFixed(2) + "B: " + data[e].lb.sort((a, b) => b.score - a.score)[0].name) : (0, "Unknown")}`));
                    });
                });
                document.querySelectorAll("h2")[1].innerHTML = Sanitize(`${allPlayers} / 1504`);
                document.querySelectorAll("optgroup").forEach(f => {
                    f.label == "US East" && (f.label = Sanitize(`US East [${allEastPlayers} / 384]`));
                    f.label == "US West" && (f.label = Sanitize(`US West [${allWestPlayers} / 192]`));
                    f.label == "Europe" && (f.label = Sanitize(`Europe [${allEuPlayers} / 384]`));
                    f.label == "Asia" && (f.label = Sanitize(`Asia [${allAsiaPlayers} / 192]`));
                    f.label == "Australia" && (f.label = Sanitize(`Australia [${allAusPlayers} / 192]`));
                    f.label == "South America" && (f.label = Sanitize(`South America [${allSaPlayers} / 160]`));
                });
            });

            const serverArr = JSON.parse('[["v1001","US East #1","45.76.4.28","zombs-2d4c041c-0.eggs.gg"],["v1002","US East #2","45.77.203.204","zombs-2d4dcbcc-0.eggs.gg"],["v1003","US East #3","45.77.200.150","zombs-2d4dc896-0.eggs.gg"],["v1004","US East #4","104.156.225.133","zombs-689ce185-0.eggs.gg"],["v1005","US East #5","45.77.149.224","zombs-2d4d95e0-0.eggs.gg"],["v1006","US East #6","173.199.123.77","zombs-adc77b4d-0.eggs.gg"],["v1007","US East #7","45.76.166.32","zombs-2d4ca620-0.eggs.gg"],["v1008","US East #8","149.28.58.193","zombs-951c3ac1-0.eggs.gg"],["v2001","US West #1","149.28.87.132","zombs-951c5784-0.eggs.gg"],["v2002","US West #2","45.76.68.210","zombs-2d4c44d2-0.eggs.gg"],["v2003","US West #3","108.61.219.244","zombs-6c3ddbf4-0.eggs.gg"],["v5001","Europe #1","80.240.19.5","zombs-50f01305-0.eggs.gg"],["v5002","Europe #2","45.77.53.65","zombs-2d4d3541-0.eggs.gg"],["v5003","Europe #3","95.179.167.12","zombs-5fb3a70c-0.eggs.gg"],["v5004","Europe #4","95.179.163.97","zombs-5fb3a361-0.eggs.gg"],["v5005","Europe #5","136.244.83.44","zombs-88f4532c-0.eggs.gg"],["v5006","Europe #6","45.32.158.210","zombs-5fb3a361-0.eggs.gg"],["v5007","Europe #7","95.179.169.17","zombs-5fb3a911-0.eggs.gg"],["v3001","Asia #1","45.77.249.75","zombs-2d4df94b-0.eggs.gg"],["v4001","Australia #1","149.28.182.161","zombs-951cb6a1-0.eggs.gg"],["v4002","Australia #2","149.28.165.199","zombs-951ca5c7-0.eggs.gg"]]').map(e => ({ id: e[0], name: e[1], region: e[1].split(" #")[0], hostname: e[2], players: 0, leaderboard: [], host: e[3] }));
            let serverObj = {};
            serverArr.forEach(e => {
                serverObj[e.id] = { id: e.id, region: e.region, name: e.name, hostname: e.hostname, host: e.host, port: 443, fallbackPort: 443, selected: false, leaderboardDataObj: [{ "name": "Anonymous", "uid": 0, "rank": 0, "score": 0, "wave": 0 }] };
            });
            var game = new Game({
                stage: 'prod',
                servers: serverObj,
                userGroup: 2
            });
            game.init(function () {
                game.debug.init();
                document.getElementsByClassName("hud-intro-corner-top-right")[0].style.display = "none";
                document.getElementsByClassName("hud-intro-guide")[0].style.width = "500px";
                let alp = ["", "K", "M", "B", "T", "Q"];
                let counter = (value = 0) => {
                    return length = (value).toLocaleString().split(",").length - 1, v = (value / `1e${length * 3}`).toFixed(2) - "" + alp[length], n = !v ? "LIMIT" : isNaN(v - "") ? v : v - "";
                };
                window.location.href.startsWith("https") && (window.location.href = window.location.href.split("https").join("http"));
                autoreconnectr = () => {
                    window.autoreconnect = !window.autoreconnect;
                    window.autoreconnect ?
                        document.getElementsByClassName("reconnect")[1].innerText = document.getElementsByClassName("reconnect")[1].innerText.replace("Enable", "Disable") :
                        document.getElementsByClassName("reconnect")[1].innerText = document.getElementsByClassName("reconnect")[1].innerText.replace("Disable", "Enable");
                    window.autoreconnect ?
                        document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].innerText = document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].innerText.replace("Enable", "Disable") :
                        document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].innerText = document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].innerText.replace("Disable", "Enable");
                    window.autoreconnect ?
                        document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].className = document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].className.replace("green", "red") :
                        document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].className = document.getElementsByClassName("hud-FPS-restart-walkthrough")[8].className.replace("red", "green");
                }
            });
            let e_PacketId = { "0": "PACKET_ENTITY_UPDATE", "1": "PACKET_PLAYER_COUNTER_UPDATE", "2": "PACKET_SET_WORLD_DIMENSIONS", "3": "PACKET_INPUT", "4": "PACKET_ENTER_WORLD", "5": "PACKET_PRE_ENTER_WORLD", "6": "PACKET_ENTER_WORLD2", "7": "PACKET_PING", "9": "PACKET_RPC", "10": "PACKET_BLEND", "PACKET_ENTITY_UPDATE": 0, "PACKET_PLAYER_COUNTER_UPDATE": 1, "PACKET_SET_WORLD_DIMENSIONS": 2, "PACKET_INPUT": 3, "PACKET_ENTER_WORLD": 4, "PACKET_PRE_ENTER_WORLD": 5, "PACKET_ENTER_WORLD2": 6, "PACKET_PING": 7, "PACKET_RPC": 9, "PACKET_BLEND": 10 };
            let jsons = [
                { name: 'BuildingShopPrices', response: { json: '[{"Name":"Wall","Class":"PlayerObject","GoldCosts":[0,5,30,60,80,100,250,800],"WoodCosts":[2,0,0,0,0,0,0,0],"StoneCosts":[0,2,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0,0],"Width":47.99,"Height":47.99,"Health":[150,200,300,400,600,800,1500,2500],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[5,7,12,17,25,40,80,250]},{"Name":"GoldStash","Class":"GoldStash","GoldCosts":[0,5000,10000,16000,20000,32000,100000,400000],"WoodCosts":[0,0,0,0,0,0,0,0],"StoneCosts":[0,0,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0,0],"Width":95.99,"Height":95.99,"Health":[1500,1800,2300,3000,5000,8000,12000,20000],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[50,60,70,90,110,150,400,700]},{"Name":"GoldMine","Class":"GoldMine","GoldCosts":[0,200,300,600,800,1200,8000,30000],"WoodCosts":[5,15,25,35,45,55,700,1600],"StoneCosts":[5,15,25,35,45,55,700,1600],"TokenCosts":[0,0,0,0,0,0,0,0],"Width":95.99,"Height":95.99,"Health":[150,250,350,500,800,1400,1800,2800],"GoldPerSecond":[6,8,10.5,15,18,22.5,37.5,52.5],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[5,7,12,17,25,40,70,120]},{"Name":"Door","Class":"Door","GoldCosts":[0,10,50,70,150,200,400,800],"WoodCosts":[5,5,0,0,0,0,0,0],"StoneCosts":[5,5,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0,0],"Width":47.99,"Height":47.99,"Health":[150,200,300,500,700,1000,1500,2000],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,1000],"HealthRegenPerSecond":[5,7,12,17,25,40,70,100]},{"Name":"CannonTower","Class":"Tower","GoldCosts":[0,100,200,600,1200,2000,8000,35000],"WoodCosts":[15,25,30,40,60,80,300,800],"StoneCosts":[15,25,40,50,80,120,300,800],"TokenCosts":[0,0,0,0,0,0,0,0],"TowerRadius":[500,500,500,500,600,600,600,600],"MsBetweenFires":[1000,769,625,500,400,350,250,250],"Height":95.99,"Width":95.99,"Health":[150,200,400,800,1200,1600,2200,3600],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[2,5,10,20,40,80,110,150],"DamageToZombies":[20,30,50,70,120,150,200,300],"DamageToPlayers":[5,5,6,6,7,7,8,8],"DamageToPets":[5,5,5,5,5,5,6,8],"DamageToNeutrals":[250,350,450,550,650,750,850,1000],"ProjectileLifetime":[1000,1000,1000,1000,1000,1000,1000,1000],"ProjectileVelocity":[60,65,70,70,75,80,100,140],"ProjectileName":"CannonProjectile","ProjectileAoe":[true,true,true,true,true,true,true,true],"ProjectileAoeRadius":[250,250,250,250,250,250,250,250],"ProjectileCollisionRadius":[10,10,10,10,10,10,10,10]},{"Name":"ArrowTower","Class":"ArrowTower","GoldCosts":[0,100,200,600,1200,2000,8000,35000],"WoodCosts":[5,25,30,40,50,70,300,800],"StoneCosts":[5,20,30,40,60,80,300,800],"TokenCosts":[0,0,0,0,0,0,0,0],"TowerRadius":[600,650,700,750,800,850,900,1000],"MsBetweenFires":[400,333,285,250,250,250,250,250],"Height":95.99,"Width":95.99,"Health":[150,200,400,800,1200,1600,2200,3600],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[2,5,10,20,40,80,110,150],"DamageToZombies":[20,40,70,120,180,250,400,500],"DamageToPlayers":[5,5,6,6,7,7,8,8],"DamageToPets":[5,5,5,5,5,5,6,6],"DamageToNeutrals":[250,350,450,550,650,750,850,1000],"ProjectileLifetime":[1300,1300,1300,1300,1300,1300,1300,1300],"ProjectileVelocity":[60,65,70,70,75,80,120,140],"ProjectileName":"ArrowProjectile","ProjectileAoe":[false,false,false,false,false,false,false,false],"ProjectileCollisionRadius":[10,10,10,10,10,10,10,10]},{"Name":"Harvester","Class":"Harvester","GoldCosts":[0,100,200,600,1200,2000,8000,10000],"WoodCosts":[5,25,30,40,50,70,300,600],"StoneCosts":[5,20,30,40,60,80,300,600],"TokenCosts":[0,0,0,0,0,0,0,0],"Height":95.99,"Width":95.99,"Health":[150,200,400,800,1200,1600,2200,2800],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[2,5,10,20,40,80,110,130],"HarvestAmount":[3.75,6.975,6.825,10.8,12.375,15,20.25,24],"HarvestCooldown":[1500,1400,1300,1200,1100,1000,900,800],"HarvestMax":[800,1600,2400,3200,4000,4800,5600,7200],"HarvestRange":[300,300,300,300,300,300,300,300],"DepositCostPerMinute":[200,300,350,500,600,700,1200,1400],"DepositMax":[1600,2400,2800,4000,4800,4800,9600,12000],"MaxYawDeviation":[70,70,70,70,70,70,70,70]},{"Name":"BombTower","Class":"Tower","GoldCosts":[0,100,200,600,1200,2000,8000,35000],"WoodCosts":[10,25,40,50,80,120,300,800],"StoneCosts":[10,25,40,50,80,120,300,800],"TokenCosts":[0,0,0,0,0,0,0,0],"TowerRadius":[1000,1000,1000,1000,1000,1000,1000,1000],"MsBetweenFires":[1000,1000,1000,1000,1000,900,900,850],"Height":95.99,"Width":95.99,"Health":[150,200,400,800,1200,1600,2200,3600],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[2,5,10,20,40,80,110,150],"DamageToZombies":[30,60,100,140,250,620,1300,1700],"DamageToPlayers":[9,9,10,10,11,11,12,12],"DamageToPets":[10,10,10,10,10,10,10,10],"DamageToNeutrals":[250,350,450,550,650,750,850,1000],"ProjectileLifetime":[1000,1000,1000,1000,1000,1000,1000,1000],"ProjectileVelocity":[20,21,22,23,24,25,26,27],"ProjectileName":"BombProjectile","ProjectileAoe":[true,true,true,true,true,true,true,true],"ProjectileIgnoresCollisions":[true,true,true,true,true,true,true,true],"ProjectileAoeRadius":[250,250,250,250,250,250,250,250],"ProjectileCollisionRadius":[10,10,10,10,10,10,10,10],"ProjectileMaxRange":[1000,1000,1000,1000,1000,1000,1000,1000]},{"Name":"MagicTower","Class":"MagicTower","GoldCosts":[0,100,200,600,1200,2000,8000,35000],"WoodCosts":[15,25,40,50,70,100,300,800],"StoneCosts":[15,25,40,50,70,100,300,800],"TokenCosts":[0,0,0,0,0,0,0,0],"TowerRadius":[400,400,400,400,400,400,400,400],"MsBetweenFires":[800,800,700,600,500,400,300,300],"Height":95.99,"Width":95.99,"Health":[150,200,400,800,1200,1600,2200,3600],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[2,5,10,20,40,80,110,150],"DamageToZombies":[10,20,40,50,70,80,120,160],"DamageToPlayers":[5,5,5,6,6,6,7,7],"DamageToPets":[5,5,5,5,5,5,5,5],"DamageToNeutrals":[250,350,450,550,650,750,850,1000],"ProjectileLifetime":[500,500,500,500,500,500,500,500],"ProjectileVelocity":[45,45,45,45,45,45,45,45],"ProjectileName":"FireballProjectile","ProjectileAoe":[true,true,true,true,true,true,true,true],"ProjectileAoeRadius":[100,100,100,100,100,100,100,100],"ProjectileCollisionRadius":[10,10,10,10,10,10,10,10]},{"Name":"MeleeTower","Class":"MeleeTower","GoldCosts":[0,100,200,600,1200,2000,8000,35000],"WoodCosts":[10,25,30,40,50,70,300,800],"StoneCosts":[10,20,30,40,60,80,300,800],"TokenCosts":[0,0,0,0,0,0,0,0],"TowerRadius":[110,110,110,110,110,110,110,110],"MsBetweenFires":[400,333,285,250,250,250,250,200],"Height":95.99,"Width":95.99,"Health":[200,400,800,1200,1600,2200,4000,9000],"MsBeforeRegen":[5000,5000,5000,5000,5000,5000,5000,5000],"HealthRegenPerSecond":[2,5,10,20,40,100,280,500],"DamageToZombies":[80,120,200,280,510,1200,2200,3500],"DamageToPlayers":[5,6,7,8,9,10,11,12],"DamageToPets":[5,5,5,5,5,5,6,6],"DamageToNeutrals":[250,350,450,550,650,750,850,1000],"MaxYawDeviation":[30,30,30,30,30,30,30,30]},{"Name":"SlowTrap","Class":"Trap","GoldCosts":[0,100,200,400,600,800,1000,1500],"WoodCosts":[5,25,30,40,50,70,300,800],"StoneCosts":[5,20,30,40,60,80,300,800],"TokenCosts":[0,0,0,0,0,0,0,0],"Height":47.99,"Width":47.99,"Health":[150,200,400,800,1200,1600,2200,3000],"MsBeforeRegen":[10000,10000,10000,10000,10000,10000,10000,10000],"HealthRegenPerSecond":[2,5,10,20,40,80,110,150],"SlowDuration":[2500,2500,2500,3000,3000,3250,3500,4000],"SlowAmount":[0.4,0.45,0.5,0.55,0.6,0.65,0.7,0.7]}]' }, opcode: 9 },
                { name: 'ItemShopPrices', response: { json: '[{"Name":"Spear","Class":"MeleeWeapon","MsBetweenFires":[250,250,250,250,250,250,250],"DamageToZombies":[30,80,120,300,2000,8000,10000],"DamageToNeutrals":[50,80,100,200,250,400,600],"DamageToBuildings":[0.75,1.5,2.25,3,3.75,4.5,5.25],"DamageToPlayers":[15,16,17,18,20,22,22],"DamageToPets":[3,3.5,4,4.5,5,5.5,5.5],"GoldCosts":[1400,2800,5600,11200,22500,45000,90000],"StoneCosts":[0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0],"Range":[100,100,100,100,100,100,100],"MaxYawDeviation":[50,50,50,50,50,50,50]},{"Name":"Pickaxe","Class":"MeleeWeapon","MsBetweenFires":[300,300,285,250,200,200,200],"DamageToZombies":[20,20,20,20,20,20,20],"DamageToBuildings":[0,0,0,0,0,0,0],"DamageToPlayers":[0,0,0,0,0,0,0],"DamageToNeutrals":[10,10,10,10,10,10,10],"DamageToPets":[0,0,0,0,0,0,0],"GoldCosts":[0,1000,3000,6000,8000,24000,90000],"StoneCosts":[0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0],"Range":[100,100,100,100,100,100,100],"MaxYawDeviation":[70,70,70,70,70,70,70],"IsTool":true,"HarvestCount":[1.5,3,3,4.5,4.5,6,9]},{"Name":"Bow","Class":"RangedWeapon","DamageToZombies":[20,40,100,300,2400,10000,14000],"DamageToBuildings":[2,2.3,2.5,2.7,3,3,3],"DamageToPlayers":[22,24,26,28,30,32,32],"DamageToNeutrals":[50,100,150,200,250,400,700],"DamageToPets":[2,2.3,2.5,2.7,3,3,3],"GoldCosts":[100,400,2000,7000,24000,30000,90000],"StoneCosts":[0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0],"MsBetweenFires":[500,500,500,500,500,500,500],"ChargeTime":[150,150,150,150,150,150,150],"ProjectileVelocity":[100,100,100,100,100,100,100],"ProjectileName":"BowProjectile","ProjectileCollisionRadius":[10,10,10,10,10,10,10],"ProjectileLifetime":[550,550,550,550,550,550,550]},{"Name":"Bomb","Class":"RangedWeapon","GoldCosts":[100,400,3000,5000,24000,30000,90000],"DamageToNeutrals":[50,100,150,200,250,300,500],"StoneCosts":[0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0],"MsBetweenFires":[500,500,500,500,500,500,500],"DamageToZombies":[10,30,80,150,1200,6000,9000],"DamageToBuildings":[1,1,1,1,1,1,1],"DamageToPlayers":[20,22,24,26,28,30,30],"DamageToPets":[1,1,1,1,1,1,1],"ProjectileVelocity":[40,40,40,40,40,40,40],"ProjectileName":"BombProjectile","ProjectileCollisionRadius":[10,10,10,10,10,10,10],"ProjectileLifetime":[700,700,700,700,700,700,700],"ProjectileAoe":[true,true,true,true,true,true,true],"ProjectileAoeRadius":[50,50,50,50,50,50,50],"ProjectileIgnoresCollisions":[false,false,false,false,false,false,false],"ProjectileMaxRange":[700,700,700,700,700,700,700]},{"Name":"HealthPotion","Class":"HealthPotion","GoldCosts":[100],"StoneCosts":[0],"WoodCosts":[0],"TokenCosts":[0],"PurchaseCooldown":15000},{"Name":"ZombieShield","Class":"ZombieShield","GoldCosts":[1000,3000,7000,14000,18000,22000,24000,30000,45000,70000],"StoneCosts":[0,0,0,0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0,0,0,0],"TokenCosts":[0,0,0,0,0,0,0,0,0,0],"Health":[500,1000,1800,4000,10000,20000,35000,50000,65000,85000],"RechargePerSecond":[50,100,200,400,1000,2000,3500,5000,6500,8500],"MsBeforeRecharge":[10000,9000,8000,7000,6000,6000,6000,6000,6000,6000]},{"Name":"Pause","Class":"Pause","GoldCosts":[10000],"StoneCosts":[0],"WoodCosts":[0],"TokenCosts":[0],"PurchaseCooldown":240000},{"Name":"PetMiner","Class":"Pet","GoldCosts":[0,0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0,0],"StoneCosts":[0,0,0,0,0,0,0,0],"TokenCosts":[0,100,100,100,100,200,200,300],"CollisionRadius":25,"Health":[400,800,1500,3000,5000,8000,10000,16000],"MsBeforeRegen":[8000,8000,8000,8000,8000,8000,8000,8000],"HealthRegenPerSecond":[5,5,5,5,5,5,5,5],"Speed":[30,32,34,35,35,37,37,38],"DamageToNeutrals":[80,100,150,200,250,400,500,600],"HarvestCount":[1,1,2,2,3,3,4,4],"Ranged":[false,false,false,false,false,false,false,false],"CanAttackPlayers":[false,false,false,false,false,false,false,false],"CanMine":[true,true,true,true,true,true,true,true],"LeashRange":[500,500,500,500,500,500,500,500],"HarvestLeashRange":[0,0,0,0,0,0,0,0],"AttackRange":[80,80,80,80,80,80,80,80],"MsBetweenFires":[500,450,450,400,400,380,380,350],"EvolvesAtLevel":[0,8,16,24,32,48,64,96],"ExperienceFromMiningPerHalfSecond":[1,1,1,1,1,1,1,1]},{"Name":"PetCARL","Class":"Pet","GoldCosts":[0,0,0,0,0,0,0,0],"WoodCosts":[0,0,0,0,0,0,0,0],"StoneCosts":[0,0,0,0,0,0,0,0],"TokenCosts":[0,100,100,100,100,200,200,300],"CollisionRadius":25,"Health":[400,800,1500,3000,5000,8000,10000,16000],"MsBeforeRegen":[8000,8000,8000,8000,8000,8000,8000,8000],"HealthRegenPerSecond":[5,5,5,5,5,5,5,5],"Speed":[30,32,34,35,35,37,37,38],"DamageToNeutrals":[80,100,150,200,250,400,500,600],"Ranged":[false,false,false,false,false,false,false,false],"CanAttackPlayers":[true,true,true,true,true,true,true,true],"LeashRange":[500,500,500,500,500,500,500,500],"AttackRange":[80,80,80,80,80,80,80,80],"MsBetweenFires":[500,490,490,490,480,480,470,470],"ProjectileLifetime":[1000,1000,1000,1000,1000,1000,1000,1000],"ProjectileVelocity":[60,60,60,60,60,60,60,60],"ProjectileName":"PetCARLProjectile","ProjectileAoe":[true,true,true,true,true,true,true,true],"ProjectileAoeRadius":[250,250,250,250,250,250,250,250],"ProjectileCollisionRadius":[10,10,10,10,10,10,10,10],"DamageToZombies":[30,100,400,600,1000,3000,6000,8000],"DamageToPlayers":[30,31,32,33,34,35,36,37],"DamageToBuildings":[2,2,2,3,3,3,4,4],"EvolvesAtLevel":[0,8,16,24,32,48,64,96],"ExperienceFromZombies":[30,28,25,25,25,25,25,25],"ExperienceFromNeutrals":[30,28,25,25,25,25,25,25]},{"Name":"HatHorns","Class":"Hat","GoldCosts":[0],"WoodCosts":[0],"StoneCosts":[0],"TokenCosts":[0]},{"Name":"PetHealthPotion","Class":"PetHealthPotion","GoldCosts":[100],"StoneCosts":[0],"WoodCosts":[0],"TokenCosts":[0]},{"Name":"PetWhistle","Class":"PetWhistle","GoldCosts":[0],"StoneCosts":[0],"WoodCosts":[0],"TokenCosts":[0]},{"Name":"PetRevive","Class":"PetRevive","GoldCosts":[0],"StoneCosts":[0],"WoodCosts":[0],"TokenCosts":[0]}]' }, opcode: 9 },
                { name: 'Spells', response: { json: '[{"Name":"HealTowersSpell","VisualLifetime":10000,"VisualRadius":600,"Cooldown":[240000],"IsCooldownForParty":true,"Healing":[{"Type":"Tower","Amount":[50],"Over":[10000],"Radius":[600]}],"GoldCosts":[1000],"WoodCosts":[0],"StoneCosts":[0],"TokenCosts":[0]}]' }, opcode: 9 }
            ];
            let codecJSON = '{"attributeMaps":{"667546015":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1},{"name":"lastPetDamage","type":3},{"name":"lastPetDamageTick","type":1},{"name":"lastPetDamageTarget","type":1},{"name":"firingTick","type":1},{"name":"experience","type":1},{"name":"stoneGain","type":3},{"name":"woodGain","type":3},{"name":"stoneGainTick","type":1},{"name":"woodGainTick","type":1}],"742594995":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1}],"1059671174":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"firingTick","type":1},{"name":"lastDamagedTick","type":1}],"1372600389":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"hits","type":8}],"1496910567":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"firingTick","type":1}],"1566069472":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1}],"1672634632":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1}],"1816895259":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1}],"2092990061":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1}],"2093252446":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"hits","type":8}],"2347737811":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"reconnectSecret","type":4},{"name":"name","type":4},{"name":"score","type":13},{"name":"baseSpeed","type":3},{"name":"speedAttribute","type":3},{"name":"availableSkillPoints","type":2},{"name":"experience","type":3},{"name":"level","type":1},{"name":"msBetweenFires","type":3},{"name":"aimingYaw","type":2},{"name":"energy","type":3},{"name":"maxEnergy","type":3},{"name":"energyRegenerationRate","type":3},{"name":"kills","type":2},{"name":"weaponName","type":4},{"name":"weaponTier","type":1},{"name":"firingTick","type":1},{"name":"startChargingTick","type":1},{"name":"stone","type":15},{"name":"wood","type":15},{"name":"gold","type":15},{"name":"token","type":15},{"name":"wave","type":1},{"name":"partyId","type":1},{"name":"zombieShieldHealth","type":3},{"name":"zombieShieldMaxHealth","type":3},{"name":"isPaused","type":1},{"name":"isInvulnerable","type":1},{"name":"lastPetDamage","type":3},{"name":"lastPetDamageTick","type":1},{"name":"lastPetDamageTarget","type":1},{"name":"lastDamage","type":3},{"name":"lastDamageTick","type":1},{"name":"lastDamageTarget","type":1},{"name":"hatName","type":4},{"name":"petUid","type":1},{"name":"isBuildingWalking","type":10}],"2402467733":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1}],"2462472648":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1}],"2464630638":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1}],"2899981078":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1},{"name":"harvestMax","type":1},{"name":"stone","type":1},{"name":"wood","type":1},{"name":"firingTick","type":1},{"name":"deposit","type":3},{"name":"depositMax","type":3},{"name":"lastHarvestedBy","type":4}],"2969697641":[{"name":"position","type":5},{"name":"yaw","type":2},{"name":"health","type":3},{"name":"maxHealth","type":3},{"name":"damage","type":3},{"name":"height","type":3},{"name":"width","type":3},{"name":"collisionRadius","type":1},{"name":"model","type":4},{"name":"entityClass","type":4},{"name":"dead","type":1},{"name":"timeDead","type":3},{"name":"slowed","type":1},{"name":"stunned","type":1},{"name":"tier","type":1},{"name":"partyId","type":1},{"name":"towerYaw","type":3},{"name":"firingTick","type":1},{"name":"healingTick","type":1}]},"entityTypeNames":{"667546015":"Pet","742594995":"GoldMine","1059671174":"Zombie","1372600389":"Stone","1496910567":"Neutral","1566069472":"PlayerObject","1672634632":"NeutralCamp","1816895259":"GameProjectile","2092990061":"Trap","2093252446":"Tree","2347737811":"GamePlayer","2402467733":"GoldStash","2462472648":"Spell","2464630638":"Door","2899981078":"Harvester","2969697641":"Tower"},"rpcMaps":[{"name":"Shutdown","parameters":[{"name":"reason","type":3},{"name":"shutdownUnix","type":0}],"isArray":false,"index":0},{"name":"ReceiveChatMessage","parameters":[{"name":"displayName","type":3},{"name":"channel","type":3},{"name":"message","type":3},{"name":"uid","type":0}],"isArray":false,"index":1},{"name":"SendChatMessage","parameters":[{"name":"channel","type":3},{"name":"message","type":3}],"isArray":false,"index":2},{"name":"Login","parameters":[{"name":"token","type":3}],"isArray":false,"index":3},{"name":"LoginResponse","parameters":[{"name":"json","type":3}],"isArray":false,"index":4},{"name":"AccountSession","parameters":[{"name":"json","type":3}],"isArray":false,"index":5},{"name":"Metrics","parameters":[{"name":"minFps","type":2},{"name":"maxFps","type":2},{"name":"currentFps","type":2},{"name":"averageFps","type":2},{"name":"framesRendered","type":2},{"name":"framesInterpolated","type":2},{"name":"framesExtrapolated","type":2},{"name":"allocatedNetworkEntities","type":2},{"name":"currentClientLag","type":2},{"name":"minClientLag","type":2},{"name":"maxClientLag","type":2},{"name":"currentPing","type":2},{"name":"minPing","type":2},{"name":"maxPing","type":2},{"name":"averagePing","type":2},{"name":"longFrames","type":2},{"name":"stutters","type":2},{"name":"group","type":0},{"name":"isMobile","type":0},{"name":"timeResets","type":2},{"name":"maxExtrapolationTime","type":2},{"name":"extrapolationIncidents","type":2},{"name":"totalExtrapolationTime","type":2},{"name":"differenceInClientTime","type":2}],"isArray":false,"index":6},{"name":"DayCycle","parameters":[{"name":"cycleStartTick","type":0},{"name":"nightEndTick","type":0},{"name":"dayEndTick","type":0},{"name":"isDay","type":0}],"isArray":false,"index":7},{"name":"MakeBuilding","parameters":[{"name":"x","type":1},{"name":"y","type":1},{"name":"type","type":3},{"name":"yaw","type":1}],"isArray":false,"index":8},{"name":"BuildingShopPrices","parameters":[{"name":"json","type":3}],"isArray":false,"index":9},{"name":"ItemShopPrices","parameters":[{"name":"json","type":3},{"name":"json","type":3}],"isArray":false,"index":10},{"name":"LocalBuilding","parameters":[{"name":"x","type":1},{"name":"y","type":1},{"name":"type","type":3},{"name":"dead","type":0},{"name":"uid","type":0},{"name":"tier","type":0}],"isArray":true,"index":11},{"name":"Dead","parameters":[{"name":"stashDied","type":0}],"isArray":false,"index":12},{"name":"Admin","parameters":[{"name":"password","type":3},{"name":"command","type":3}],"isArray":false,"index":13},{"name":"UpgradeBuilding","parameters":[{"name":"uid","type":0}],"isArray":false,"index":14},{"name":"DeleteBuilding","parameters":[{"name":"uid","type":0}],"isArray":false,"index":15},{"name":"BuyItem","parameters":[{"name":"itemName","type":3},{"name":"tier","type":0}],"isArray":false,"index":16},{"name":"SetItem","parameters":[{"name":"itemName","type":3},{"name":"tier","type":0},{"name":"stacks","type":0}],"isArray":false,"index":17},{"name":"EquipItem","parameters":[{"name":"itemName","type":3},{"name":"tier","type":0}],"isArray":false,"index":18},{"name":"SetOpenParty","parameters":[{"name":"isOpen","type":0}],"isArray":false,"index":19},{"name":"SetPartyName","parameters":[{"name":"partyName","type":3}],"isArray":false,"index":20},{"name":"SetPartyMemberCanSell","parameters":[{"name":"uid","type":0},{"name":"canSell","type":0}],"isArray":false,"index":21},{"name":"JoinParty","parameters":[{"name":"partyId","type":0}],"isArray":false,"index":22},{"name":"JoinPartyByShareKey","parameters":[{"name":"partyShareKey","type":3}],"isArray":false,"index":23},{"name":"PartyApplicant","parameters":[{"name":"displayName","type":3},{"name":"applicantUid","type":0}],"isArray":false,"index":24},{"name":"PartyApplicantDecide","parameters":[{"name":"applicantUid","type":0},{"name":"accepted","type":0}],"isArray":false,"index":25},{"name":"PartyApplicantDenied","parameters":[],"isArray":false,"index":26},{"name":"PartyApplicantExpired","parameters":[{"name":"applicantUid","type":0}],"isArray":false,"index":27},{"name":"PartyShareKey","parameters":[{"name":"partyShareKey","type":3}],"isArray":false,"index":28},{"name":"PartyInfo","parameters":[{"name":"playerUid","type":0},{"name":"displayName","type":3},{"name":"isLeader","type":0},{"name":"canSell","type":0}],"isArray":true,"index":29},{"name":"AddParty","parameters":[{"name":"partyId","type":0},{"name":"partyName","type":3},{"name":"isOpen","type":0},{"name":"memberCount","type":0}],"isArray":false,"index":30},{"name":"RemoveParty","parameters":[{"name":"partyId","type":0}],"isArray":false,"index":31},{"name":"Leaderboard","parameters":[{"name":"name","type":3},{"name":"uid","type":0},{"name":"rank","type":0},{"name":"score","type":4},{"name":"wave","type":0}],"isArray":true,"index":32},{"name":"Failure","parameters":[{"name":"category","type":3},{"name":"reason","type":3},{"name":"x","type":0},{"name":"y","type":0},{"name":"type","type":3}],"isArray":false,"index":33},{"name":"RecallPet","parameters":[],"isArray":false,"index":34},{"name":"LeaveParty","parameters":[],"isArray":false,"index":35},{"name":"KickParty","parameters":[{"name":"uid","type":0}],"isArray":false,"index":36},{"name":"AddDepositToHarvester","parameters":[{"name":"uid","type":0},{"name":"deposit","type":2}],"isArray":false,"index":37},{"name":"CollectHarvester","parameters":[{"name":"uid","type":0}],"isArray":false,"index":38},{"name":"CastSpell","parameters":[{"name":"spell","type":3},{"name":"x","type":1},{"name":"y","type":1},{"name":"tier","type":0}],"isArray":false,"index":39},{"name":"CastSpellResponse","parameters":[{"name":"spell","type":3},{"name":"cooldown","type":0},{"name":"cooldownStartTick","type":0}],"isArray":false,"index":40},{"name":"Spells","parameters":[{"name":"json","type":3}],"isArray":false,"index":41},{"name":"SetPartyList","parameters":[{"name":"partyId","type":0},{"name":"partyName","type":3},{"name":"isOpen","type":0},{"name":"memberCount","type":0}],"isArray":true,"index":42}],"rpcMapsByName":{"Shutdown":{"name":"Shutdown","parameters":[{"name":"reason","type":3},{"name":"shutdownUnix","type":0}],"isArray":false,"index":0},"ReceiveChatMessage":{"name":"ReceiveChatMessage","parameters":[{"name":"displayName","type":3},{"name":"channel","type":3},{"name":"message","type":3},{"name":"uid","type":0}],"isArray":false,"index":1},"SendChatMessage":{"name":"SendChatMessage","parameters":[{"name":"channel","type":3},{"name":"message","type":3}],"isArray":false,"index":2},"Login":{"name":"Login","parameters":[{"name":"token","type":3}],"isArray":false,"index":3},"LoginResponse":{"name":"LoginResponse","parameters":[{"name":"json","type":3}],"isArray":false,"index":4},"AccountSession":{"name":"AccountSession","parameters":[{"name":"json","type":3}],"isArray":false,"index":5},"Metrics":{"name":"Metrics","parameters":[{"name":"minFps","type":2},{"name":"maxFps","type":2},{"name":"currentFps","type":2},{"name":"averageFps","type":2},{"name":"framesRendered","type":2},{"name":"framesInterpolated","type":2},{"name":"framesExtrapolated","type":2},{"name":"allocatedNetworkEntities","type":2},{"name":"currentClientLag","type":2},{"name":"minClientLag","type":2},{"name":"maxClientLag","type":2},{"name":"currentPing","type":2},{"name":"minPing","type":2},{"name":"maxPing","type":2},{"name":"averagePing","type":2},{"name":"longFrames","type":2},{"name":"stutters","type":2},{"name":"group","type":0},{"name":"isMobile","type":0},{"name":"timeResets","type":2},{"name":"maxExtrapolationTime","type":2},{"name":"extrapolationIncidents","type":2},{"name":"totalExtrapolationTime","type":2},{"name":"differenceInClientTime","type":2}],"isArray":false,"index":6},"DayCycle":{"name":"DayCycle","parameters":[{"name":"cycleStartTick","type":0},{"name":"nightEndTick","type":0},{"name":"dayEndTick","type":0},{"name":"isDay","type":0}],"isArray":false,"index":7},"MakeBuilding":{"name":"MakeBuilding","parameters":[{"name":"x","type":1},{"name":"y","type":1},{"name":"type","type":3},{"name":"yaw","type":1}],"isArray":false,"index":8},"BuildingShopPrices":{"name":"BuildingShopPrices","parameters":[{"name":"json","type":3}],"isArray":false,"index":9},"ItemShopPrices":{"name":"ItemShopPrices","parameters":[{"name":"json","type":3},{"name":"json","type":3}],"isArray":false,"index":10},"LocalBuilding":{"name":"LocalBuilding","parameters":[{"name":"x","type":1},{"name":"y","type":1},{"name":"type","type":3},{"name":"dead","type":0},{"name":"uid","type":0},{"name":"tier","type":0}],"isArray":true,"index":11},"Dead":{"name":"Dead","parameters":[{"name":"stashDied","type":0}],"isArray":false,"index":12},"Admin":{"name":"Admin","parameters":[{"name":"password","type":3},{"name":"command","type":3}],"isArray":false,"index":13},"UpgradeBuilding":{"name":"UpgradeBuilding","parameters":[{"name":"uid","type":0}],"isArray":false,"index":14},"DeleteBuilding":{"name":"DeleteBuilding","parameters":[{"name":"uid","type":0}],"isArray":false,"index":15},"BuyItem":{"name":"BuyItem","parameters":[{"name":"itemName","type":3},{"name":"tier","type":0}],"isArray":false,"index":16},"SetItem":{"name":"SetItem","parameters":[{"name":"itemName","type":3},{"name":"tier","type":0},{"name":"stacks","type":0}],"isArray":false,"index":17},"EquipItem":{"name":"EquipItem","parameters":[{"name":"itemName","type":3},{"name":"tier","type":0}],"isArray":false,"index":18},"SetOpenParty":{"name":"SetOpenParty","parameters":[{"name":"isOpen","type":0}],"isArray":false,"index":19},"SetPartyName":{"name":"SetPartyName","parameters":[{"name":"partyName","type":3}],"isArray":false,"index":20},"SetPartyMemberCanSell":{"name":"SetPartyMemberCanSell","parameters":[{"name":"uid","type":0},{"name":"canSell","type":0}],"isArray":false,"index":21},"JoinParty":{"name":"JoinParty","parameters":[{"name":"partyId","type":0}],"isArray":false,"index":22},"JoinPartyByShareKey":{"name":"JoinPartyByShareKey","parameters":[{"name":"partyShareKey","type":3}],"isArray":false,"index":23},"PartyApplicant":{"name":"PartyApplicant","parameters":[{"name":"displayName","type":3},{"name":"applicantUid","type":0}],"isArray":false,"index":24},"PartyApplicantDecide":{"name":"PartyApplicantDecide","parameters":[{"name":"applicantUid","type":0},{"name":"accepted","type":0}],"isArray":false,"index":25},"PartyApplicantDenied":{"name":"PartyApplicantDenied","parameters":[],"isArray":false,"index":26},"PartyApplicantExpired":{"name":"PartyApplicantExpired","parameters":[{"name":"applicantUid","type":0}],"isArray":false,"index":27},"PartyShareKey":{"name":"PartyShareKey","parameters":[{"name":"partyShareKey","type":3}],"isArray":false,"index":28},"PartyInfo":{"name":"PartyInfo","parameters":[{"name":"playerUid","type":0},{"name":"displayName","type":3},{"name":"isLeader","type":0},{"name":"canSell","type":0}],"isArray":true,"index":29},"AddParty":{"name":"AddParty","parameters":[{"name":"partyId","type":0},{"name":"partyName","type":3},{"name":"isOpen","type":0},{"name":"memberCount","type":0}],"isArray":false,"index":30},"RemoveParty":{"name":"RemoveParty","parameters":[{"name":"partyId","type":0}],"isArray":false,"index":31},"Leaderboard":{"name":"Leaderboard","parameters":[{"name":"name","type":3},{"name":"uid","type":0},{"name":"rank","type":0},{"name":"score","type":4},{"name":"wave","type":0}],"isArray":true,"index":32},"Failure":{"name":"Failure","parameters":[{"name":"category","type":3},{"name":"reason","type":3},{"name":"x","type":0},{"name":"y","type":0},{"name":"type","type":3}],"isArray":false,"index":33},"RecallPet":{"name":"RecallPet","parameters":[],"isArray":false,"index":34},"LeaveParty":{"name":"LeaveParty","parameters":[],"isArray":false,"index":35},"KickParty":{"name":"KickParty","parameters":[{"name":"uid","type":0}],"isArray":false,"index":36},"AddDepositToHarvester":{"name":"AddDepositToHarvester","parameters":[{"name":"uid","type":0},{"name":"deposit","type":2}],"isArray":false,"index":37},"CollectHarvester":{"name":"CollectHarvester","parameters":[{"name":"uid","type":0}],"isArray":false,"index":38},"CastSpell":{"name":"CastSpell","parameters":[{"name":"spell","type":3},{"name":"x","type":1},{"name":"y","type":1},{"name":"tier","type":0}],"isArray":false,"index":39},"CastSpellResponse":{"name":"CastSpellResponse","parameters":[{"name":"spell","type":3},{"name":"cooldown","type":0},{"name":"cooldownStartTick","type":0}],"isArray":false,"index":40},"Spells":{"name":"Spells","parameters":[{"name":"json","type":3}],"isArray":false,"index":41},"SetPartyList":{"name":"SetPartyList","parameters":[{"name":"partyId","type":0},{"name":"partyName","type":3},{"name":"isOpen","type":0},{"name":"memberCount","type":0}],"isArray":true,"index":42}}}'
            const onMessage2 = (event) => {
                game.network.emitter.emit(e_PacketId[event.opcode], event);
            };
            let urlObj = {
                localhost: "ws://localhost:8080",
                fahx: "ws://147.93.180.192:8080",
                ilj: "ws://62.146.226.58:8080",
 		Sav: "ws://147.93.180.192:8080",
                Savvps: "ws://62.146.226.58:8080",
                vpsone: "ws://178.156.252.12:8080",
                vpstwo: "ws://5.161.88.198:8080",
                vpsthree: "ws://5.161.75.9:8080",
                vpsfour: "ws://5.161.121.53:8080"
            }
            let proxies = {
                "Proxy1": "147.139.189.38:80",
                "Proxy2": "154.30.242.221:9615",
                "Proxy3": "134.73.187.73:6121",
                "Proxy4": "136.0.220.106:6744",
                "Proxy5": "104.233.12.217:6768",
                "Proxy6": "161.123.151.125:6109",
                "Proxy7": "192.177.86.101:6656",
                "Proxy8": "161.123.115.132:5153",
                "Proxy9": "161.123.101.147:6773",
                "Proxy10": "166.88.235.30:6339",
                "Proxy11": "192.177.87.228:6493",
                "Proxy12": "45.43.167.22:6204",
                "Proxy13": "104.223.149.162:5790",
                "Proxy14": "104.148.0.11:5366",
                "Proxy15": "192.177.103.183:6124",
                "Proxy16": "161.123.5.9:5058",
                "Proxy17": "43.245.119.227:6001",
                "Proxy18": "45.43.167.103:6285",
                "Proxy19": "134.73.109.220:5985",
                "Proxy20": "161.123.101.177:6803",
                "Proxy21": "184.174.27.97:6320",
                "Proxy22": "207.244.218.36:5644",
                "Proxy23": "154.30.244.76:9517",
                "Proxy24": "134.73.100.252:6539",
                "Proxy25": "23.228.108.114:6504",
                "Proxy26": "43.245.119.170:5944",
                "Proxy27": "134.73.18.200:6783",
                "Proxy28": "45.61.122.12:6304",
                "Proxy29": "166.88.245.104:6104",
                "Proxy30": "166.88.3.44:6396",
                "Proxy31": "216.74.118.243:6398",
                "Proxy32": "38.153.133.137:9541",
                "Proxy33": "161.123.115.135:5156",
                "Proxy34": "184.174.27.127:6350",
                "Proxy35": "23.247.112.156:6812",
                "Proxy36": "134.73.94.57:6027",
                "Proxy37": "38.153.140.130:9008",
                "Proxy38": "136.0.88.232:6525",
                "Proxy39": "38.170.175.66:5735",
                "Proxy40": "38.153.139.116:9792",
                "Proxy41": "104.233.13.44:6039",
                "Proxy42": "161.123.101.94:6720",
                "Proxy43": "134.73.107.88:6380",
                "Proxy44": "134.73.100.247:6534",
                "Proxy45": "104.238.37.120:6677",
                "Proxy46": "136.0.109.50:5644",
                "Proxy47": "142.111.245.110:6328",
                "Proxy48": "166.88.3.183:6535",
                "Proxy49": "104.238.37.26:6583",
                "Proxy50": "104.223.227.218:6741",
                "Proxy51": "45.43.167.152:6334",
                "Proxy52": "134.73.100.116:6403",
                "Proxy53": "147.185.250.239:7025",
                "Proxy54": "161.123.93.71:5801",
                "Proxy55": "104.233.12.12:6563",
                "Proxy56": "107.179.26.221:6291",
                "Proxy57": "104.223.149.53:5681",
                "Proxy58": "192.177.86.110:6665",
                "Proxy59": "45.61.124.240:6569",
                "Proxy60": "166.88.195.121:6126",
                "Proxy61": "216.173.76.214:6841",
                "Proxy62": "45.61.123.91:5770",
                "Proxy63": "166.88.58.125:6642",
                "Proxy64": "184.174.58.221:5783",
                "Proxy65": "107.179.26.236:6306",
                "Proxy66": "166.88.235.235:6544",
                "Proxy67": "134.73.18.135:6718",
                "Proxy68": "173.245.88.246:5897",
                "Proxy69": "184.174.46.252:5881",
                "Proxy70": "161.123.5.118:5167",
                "Proxy71": "38.170.172.7:5008",
                "Proxy72": "45.61.118.130:5827",
                "Proxy73": "104.232.209.219:6177",
                "Proxy74": "207.244.218.236:5844"
            };
            let prfKeys = {
                "localhost": [""],
                "fahx": [""],
                "tech": [""],
		"Sav": [""],
                "Savvps": [""],
                "vpsone": [""],
                "vpstwo": [""],
                "vpsthree": [""],
                "vpsfour": [""]
            };
            window.allSessions = {};
            window.allSessionsByUid = {};
            window.sesPsk = "";
            window.setElementToggleTo = (enabled, classname) => {
                if (!enabled) {
                    document.getElementsByClassName(classname)[0].innerText = document.getElementsByClassName(classname)[0].innerText.replace("Disable", "Enable");
                    document.getElementsByClassName(classname)[0].className = document.getElementsByClassName(classname)[0].className.replace("red", "blue");
                } else {
                    document.getElementsByClassName(classname)[0].innerText = document.getElementsByClassName(classname)[0].innerText.replace("Enable", "Disable");
                    document.getElementsByClassName(classname)[0].className = document.getElementsByClassName(classname)[0].className.replace("blue", "red");
                }
            }
            let enableOnlyOnce = false;
            window.enableMenuFiller = () => {
                if (!enableOnlyOnce) {
                    enableOnlyOnce = true;
                    for (let i = 0; i < 4; i++) {
                        window.sendMenuAlt(1, Object.values(game.options.servers)[game.ui.components.Intro.serverElem.selectedIndex < 47 ? ++game.ui.components.Intro.serverElem.selectedIndex : game.ui.components.Intro.serverElem.selectedIndex = 0].id);
                    }
                    setInterval(() => {
                        for (let i = 0; i < 4; i++) {
                            window.sendMenuAlt(1, Object.values(game.options.servers)[game.ui.components.Intro.serverElem.selectedIndex < 47 ? ++game.ui.components.Intro.serverElem.selectedIndex : game.ui.components.Intro.serverElem.selectedIndex = 0].id);
                        }
                    }, 10000);
                }
            }
            class Ws {
                constructor(type) {
                    this.ws = new WebSocket(urlObj[document.getElementsByClassName("dropdown")[0].value.toLowerCase()]);
                    this.ws.binaryType = "arraybuffer";
                    this.type = type || "user";
                    this.userId = null;
                    this.ws.onopen = this.onOpen.bind(this);
                }
                encode(e) {
                    return new Uint8Array(codec.encode(9, { name: "message", msg: e }));
                }
                decode(e) {
                    return codec.decode(e).response.msg;
                }
                sendMessage(m) {
                    this.ws.readyState == 1 && this.ws.send(this.encode(m));
                }
                onOpen() {
                    this.sendMessage("plsverify");
                }
            }
            class User extends Ws {
                constructor() {
                    super("user");
                    this.activeSessions = {};
                    this.ws.onmessage = this.onMessage.bind(this);
                    this.ws.onclose = this.onClose.bind(this);
                    this.notAllowedCharsInHTML = new Map([["<", '&lt;'], [">", '&gt;']]);
                }
                onMessage(m) {
                    let x = new Uint8Array(m.data);
                    if (x[0] == 0 || x[0] == 8) {
                        if (x[0] == 8) x[0] = 9;
                        let obj = game.network.codec.decode(x);
                        if (obj.opcode == 0) {
                            onMessage2(obj);
                        }
                        if (obj.opcode == 9) {
                            onMessage2(obj);
                        }
                        return;
                    }
                    let msg = this.decode(m.data);
                    if (msg.startsWith("encodeyounoob")) {
                        let oldVal = document.getElementsByClassName("dropdown")[1].value;
                        let sesProxies = proxies[document.getElementsByClassName("dropdown")[0].value.toLowerCase()];
                        if (!sesProxies.includes(oldVal)) {
                            oldVal = null;
                        };
                        document.getElementsByClassName("dropdown")[1].innerHTML = "";
                        for (const proxyName of sesProxies) {
                            document.getElementsByClassName("dropdown")[1].innerHTML += `<option>${proxyName}</option>`
                        };
                        document.getElementsByClassName("dropdown")[1].value = oldVal || sesProxies[0];
                        let pskVal = document.getElementsByClassName("dropdown")[2].value;
                        let sesKeys = prfKeys[document.getElementsByClassName("dropdown")[0].value.toLowerCase()];
                        if (!sesKeys.includes(pskVal)) {
                            pskVal = null;
                        };
                        document.getElementsByClassName("dropdown")[2].innerHTML = "";
                        for (const key of sesKeys) {
                            document.getElementsByClassName("dropdown")[2].innerHTML += `<option>${key}</option>`
                        };
                        document.getElementsByClassName("dropdown")[2].value = pskVal || sesKeys[0];
                        let encoded = this.cipher("pro")(msg.split(",  ;")[1]);
                        this.sendMessage(`decodednoob,  ;${encoded}`);
                    }
                    if (msg == "accesssuccess") {
                        this.sendMessage(`${this.type},  ;${document.getElementsByClassName("dropdown")[1].value.replace(" ", "")}`);
                    }
                    if (msg.startsWith("id")) {
                        this.userId = parseInt(msg.split(",  ;")[1]);
                    }
                    if (msg.startsWith("sessions")) {
                        let args = msg.split(",  ;");
                        this.activeSessions = JSON.parse(args[1]);
                        document.getElementsByClassName("savedsessions")[0].innerHTML = "";
                        Object.values(this.activeSessions).sort((a, b) => a.sessionUserId - b.sessionUserId).forEach(e => {
                            document.getElementsByClassName("savedsessions")[0].innerHTML += `<button class="btn" onclick="user.verify(${e.actualUserId})">${e.sessionName ? this.Sanitize(e.sessionName) : "Session"} [${e.actualUserId} | ${e.sessionUserId}]</button>`;
                        });
                    }
                    if (msg.startsWith("data")) {
                        let obj = JSON.parse(msg.split(",  ;")[1]);
                        if (obj.opcode == 0) {
                            onMessage2({ tick: obj.tick, entities: new Map(obj.entities), byteSize: obj.byteSize, opcode: obj.opcode });
                        }
                        if (obj.opcode == 9) {
                            onMessage2(obj);
                        }
                    }
                    if (msg.startsWith("verifydata")) {
                let args = msg.split(",  ;").slice(1).join(",  ;");
                let data = JSON.parse(args);
                let codec = JSON.parse(codecJSON);
                for (let i in codec) {
                    game.network.codec[i] = codec[i];
                }
                        game.network.codec.sortedUidsByType = data.sortedUidsByType;
                        game.network.codec.removedEntities = data.removedEntities;
                        game.network.codec.absentEntitiesFlags = data.absentEntitiesFlags;
                        game.network.codec.updatedEntityFlags = data.updatedEntityFlags;
                        game.network.socket = {
                            readyState: 1
                        };
                        game.network.socket.send = (e) => this.sendBuffer(new Uint8Array(e));
                        game.network.sendPacket = (e, t) => {
                            if (e == 4 || e == 5 || e == 6 || e == 7) return;
                            this.sendPacket(e, t);
                        }
                        game.options.serverId = data.serverId;
                        game.network.connectionOptions = game.options.servers[data.serverId];
                        if (data.useRequiredEquipment) {
                            document.useRequiredEquipment = true;
                        }
                        if (data.petActivated) {
                            window.activated = true;
                        }
                        for (let i = 0; i < jsons.length; i++) {
                            onMessage2(jsons[i]);
                        }
                        for (let i = 0; i < data.syncNeeds.length; i++) {
                            onMessage2(data.syncNeeds[i]);
                        }
                        for (let i = 0; i < data.messages.length; i++) {
                            game.ui.components.Chat.onMessageReceived(data.messages[i]);
                        }
                        if (data.castSpellResponse && data.castSpellResponse.cooldownStartTick && (data.tick - data.castSpellResponse.cooldownStartTick) * 50 < 240000) {
                            onMessage2({ name: 'CastSpellResponse', response: data.castSpellResponse, opcode: 9 });
                        }
                        if (data.isPaused) {
                            game.ui.onLocalItemUpdate({ itemName: 'Pause', tier: 1, stacks: 1 });
                            game.ui.emit('wavePaused');
                        }
                        for (let i in data.inventory) {
                            onMessage2({ name: "SetItem", response: { itemName: data.inventory[i].itemName, tier: data.inventory[i].tier, stacks: data.inventory[i].stacks }, opcode: 9 });
                        }
                        onMessage2({ tick: data.tick, entities: new Map(data.entities), byteSize: data.byteSize, opcode: 0 });
                        onMessage2({ name: "LocalBuilding", response: data.localBuildings, opcode: 9 });
                        if (new Map(data.entities).get(data.syncNeeds[0].uid).dead) {
                            game.ui.components.Respawn.respawnTextElem.innerHTML = "You got killed... but fear not &mdash; your fortress survives! Get back into the action!";
                            game.ui.components.Respawn.show();
                        }
                        this.sendMessage("getsettings");
                    }
                    if (msg.startsWith("decodedOpcode5")) {
                        this.onDecodedOpcode5(msg);
                    }
                    if (msg.startsWith("leaderboarddata")) {
                        console.log(JSON.parse(msg.split(",  ;")[1]));
                    }
                    if (msg.startsWith("altstats")) {
                        allSessions[JSON.parse(msg.split(",  ;")[2])] = JSON.parse(msg.split(",  ;")[1]);
                        allSessions[JSON.parse(msg.split(",  ;")[2])].mouseDownHit = JSON.parse(msg.split(",  ;")[3]);
                        allSessions[JSON.parse(msg.split(",  ;")[2])].isOnControl = JSON.parse(msg.split(",  ;")[4]);
                        allSessions[JSON.parse(msg.split(",  ;")[2])].readyState = JSON.parse(msg.split(",  ;")[5]);
                        allSessions[JSON.parse(msg.split(",  ;")[2])].serverId = JSON.parse(msg.split(",  ;")[6]);
                        allSessions[JSON.parse(msg.split(",  ;")[2])].target = JSON.parse(msg.split(",  ;")[7]);
                        allSessions[JSON.parse(msg.split(",  ;")[2])].gs = JSON.parse(msg.split(",  ;")[8]);
                        for (let i in allSessions) {
                            allSessionsByUid[allSessions[i].uid] = allSessions[i];
                        }
                    }
                    if (msg.startsWith("joinid")) {
                        sesPsk = JSON.stringify(msg.split(",  ;")[1]);
                        game.network.sendPacket(9, { name: "JoinPartyByShareKey", partyShareKey: JSON.parse(sesPsk) });
                    }
                    if (msg.startsWith("proxies")) {
                        let msg2 = msg.slice(11, msg.length).split(",");
                        proxies[document.getElementsByClassName("dropdown")[0].value.toLowerCase()] = [""];
                        msg2.forEach(m => {
                            msg.split(",  ;")[1] != "" && proxies[document.getElementsByClassName("dropdown")[0].value.toLowerCase()].push(m);
                        });
                    }
                    if (msg.startsWith("prfpsks")) {
                        let msg2 = msg.slice(11, msg.length).split(",");
                        prfKeys[document.getElementsByClassName("dropdown")[0].value.toLowerCase()] = [""];
                        msg2.forEach(m => {
                            msg.split(",  ;")[1] != "" && prfKeys[document.getElementsByClassName("dropdown")[0].value.toLowerCase()].push(m);
                        });
                    }
                    if (msg.startsWith("sessionclosed")) {
                        let id = msg.split(",  ;")[1];
                        if (allSessions[id]) {
                            delete allSessionsByUid[allSessions[id].uid];
                            delete allSessions[id];
                        }
                    }
                    if (msg.startsWith("arf,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.arf = true;
                            document.getElementsByClassName("Y1")[0].innerText = "Autorefiller On";
                        } else {
                            script.session.arf = false;
                            document.getElementsByClassName("Y1")[0].innerText = "Autorefiller Off";
                        }
                        window.setElementToggleTo(script.session.arf, "Y1");
                    }
                    if (msg.startsWith("prf,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.prf = true;
                            document.getElementsByClassName("Y2")[0].innerText = "Partyrefiller On";
                        } else {
                            script.session.prf = false;
                            document.getElementsByClassName("Y2")[0].innerText = "Partyrefiller Off";
                        }
                        window.setElementToggleTo(script.session.prf, "Y2");
                    }
                    if (msg.startsWith("ab,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.ab = true;
                            document.getElementsByClassName("Y3")[0].innerText = "Autobuild On";
                        } else {
                            script.session.ab = false;
                            document.getElementsByClassName("Y3")[0].innerText = "Autobuild Off";
                        }
                        window.setElementToggleTo(script.session.ab, "Y3");
                    }
                    if (msg.startsWith("au,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.au = true;
                            document.getElementsByClassName("Y4")[0].innerText = "Autoupgrade On";
                        } else {
                            script.session.au = false;
                            document.getElementsByClassName("Y4")[0].innerText = "Autoupgrade Off";
                        }
                        window.setElementToggleTo(script.session.au, "Y4");
                    }
                    if (msg.startsWith("upgrank,")) {
                        let rank = parseInt(msg.split(",  ;")[1]);
                        const offsets = { 1: 8, 2: 18, 3: 33, 4: 53 };
                        script.upgradeTickOffset = offsets[rank] || 0;
                    }
                    if (msg.startsWith("atb,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.atb = true;
                            document.getElementsByClassName("Y5")[0].innerText = "Autobow On";
                        } else {
                            script.session.atb = false;
                            document.getElementsByClassName("Y5")[0].innerText = "Autobow Off";
                        }
                        window.setElementToggleTo(script.session.atb, "Y5");
                    }
                    if (msg.startsWith("aa,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.aa = true;
                            document.getElementsByClassName("Y6")[0].innerText = "Autoaim On";
                        } else {
                            script.session.aa = false;
                            document.getElementsByClassName("Y6")[0].innerText = "Autoaim Off";
                        }
                        window.setElementToggleTo(script.session.aa, "Y6");
                    }
                    if (msg.startsWith("apr,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.apr = true;
                            document.getElementsByClassName("Y7")[0].innerText = "Autopetrevive On";
                        } else {
                            script.session.apr = false;
                            document.getElementsByClassName("Y7")[0].innerText = "Autopetrevive Off";
                        }
                        window.setElementToggleTo(script.session.apr, "Y7");
                    }
                    if (msg.startsWith("ape,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.ape = true;
                            document.getElementsByClassName("Y8")[0].innerText = "Autopetevolve On";
                        } else {
                            script.session.ape = false;
                            document.getElementsByClassName("Y8")[0].innerText = "Autopetevolve Off";
                        }
                        window.setElementToggleTo(script.session.ape, "Y8");
                    }
                    if (msg.startsWith("ahrc,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.ahrc = true;
                            document.getElementsByClassName("Y9")[0].innerText = "AHRC On";
                        } else {
                            script.session.ahrc = false;
                            document.getElementsByClassName("Y9")[0].innerText = "AHRC Off";
                        }
                        window.setElementToggleTo(script.session.ahrc, "Y9");
                    }
                    if (msg.startsWith("pt,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.pt = true;
                            document.getElementsByClassName("Y10")[0].innerText = "Playertrick On";
                        } else {
                            script.session.pt = false;
                            document.getElementsByClassName("Y10")[0].innerText = "Playertrick Off";
                        }
                        window.setElementToggleTo(script.session.pt, "Y10");
                    }
                    if (msg.startsWith("rpt,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.rpt = true;
                            document.getElementsByClassName("Y11")[0].innerText = "Reverseplayertrick On";
                        } else {
                            script.session.rpt = false;
                            document.getElementsByClassName("Y11")[0].innerText = "Reverseplayertrick Off";
                        }
                        window.setElementToggleTo(script.session.rpt, "Y11");
                    }
                    if (msg.startsWith("at,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.at = true;
                            document.getElementsByClassName("Y12")[0].innerText = "Autotimeout On";
                        } else {
                            script.session.at = false;
                            document.getElementsByClassName("Y12")[0].innerText = "Autotimeout Off";
                        }
                        window.setElementToggleTo(script.session.at, "Y12");
                    }
                    if (msg.startsWith("uth,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.uth = true;
                            document.getElementsByClassName("Y13")[0].innerText = "Upgradetowerhealth On";
                        } else {
                            script.session.uth = false;
                            document.getElementsByClassName("Y13")[0].innerText = "Upgradetowerhealth Off";
                        }
                        window.setElementToggleTo(script.session.uth, "Y13");
                    }
                    if (msg.startsWith("hth,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.hth = true;
                            document.getElementsByClassName("Y14")[0].innerText = "Healtowerhealth On";
                        } else {
                            script.session.hth = false;
                            document.getElementsByClassName("Y14")[0].innerText = "Healtowerhealth Off";
                        }
                        window.setElementToggleTo(script.session.hth, "Y14");
                    }
                    if (msg.startsWith("ua,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.ua = true;
                            document.getElementsByClassName("Y15")[0].innerText = "Upgradeall On";
                        } else {
                            script.session.ua = false;
                            document.getElementsByClassName("Y15")[0].innerText = "Upgradeall Off";
                        }
                        window.setElementToggleTo(script.session.ua, "Y15");
                    }
                    if (msg.startsWith("sa,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.sa = true;
                            document.getElementsByClassName("Y16")[0].innerText = "Sellall On";
                        } else {
                            script.session.sa = false;
                            document.getElementsByClassName("Y16")[0].innerText = "Sellall Off";
                        }
                        window.setElementToggleTo(script.session.sa, "Y16");
                    }
                    if (msg.startsWith("sbt,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.sbt = true;
                            document.getElementsByClassName("Y17")[0].innerText = "Scoreblocktrick On";
                        } else {
                            script.session.sbt = false;
                            document.getElementsByClassName("Y17")[0].innerText = "Scoreblocktrick Off";
                        }
                        window.setElementToggleTo(script.session.sbt, "Y17");
                    }
                    if (msg.startsWith("mpt,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.mpt = true;
                            document.getElementsByClassName("Y18")[0].innerText = "Multipartytrick On";
                        } else {
                            script.session.mpt = false;
                            document.getElementsByClassName("Y18")[0].innerText = "Multipartytrick Off";
                        }
                        window.setElementToggleTo(script.session.mpt, "Y18");
                    }
                    if (msg.startsWith("satb,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.satb = true;
                            document.getElementsByClassName("Y19")[0].innerText = "Anti-Arrow On";
                        } else {
                            script.session.satb = false;
                            document.getElementsByClassName("Y19")[0].innerText = "Anti-Arrow Off";
                        }
                        window.setElementToggleTo(script.session.satb, "Y19");
                    }
                    if (msg.startsWith("sar,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.sar = true;
                            document.getElementsByClassName("Y20")[0].innerText = "Session Respawn On";
                        } else {
                            script.session.sar = false;
                            document.getElementsByClassName("Y20")[0].innerText = "Session Respawn Off";
                        }
                        window.setElementToggleTo(script.session.sar, "Y20");
                    }
                    if (msg.startsWith("abb,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.abb = true;
                            document.getElementsByClassName("Y21")[0].innerText = "Auto Buy Bow On";
                        } else {
                            script.session.abb = false;
                            document.getElementsByClassName("Y21")[0].innerText = "Auto Buy Bow Off";
                        }
                        window.setElementToggleTo(script.session.abb, "Y21");
                    }
                    if (msg.startsWith("abp,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.abp = true;
                            document.getElementsByClassName("Y22")[0].innerText = "Auto Buy Pickaxe On";
                        } else {
                            script.session.abp = false;
                            document.getElementsByClassName("Y22")[0].innerText = "Auto Buy Pickaxe Off";
                        }
                        window.setElementToggleTo(script.session.abp, "Y22");
                    }
                    if (msg.startsWith("arc,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.arc = true;
                            document.getElementsByClassName("Y26")[0].innerText = "Session Reconnect On";
                        } else {
                            script.session.arc = false;
                            document.getElementsByClassName("Y26")[0].innerText = "Session Reconnect Off";
                        }
                        window.setElementToggleTo(script.session.arc, "Y26");
                    }
                    if (msg.startsWith("almtd,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almtd = true;
                            document.getElementsByClassName("A1")[0].innerText = "Tower Destroyed On";
                        } else {
                            script.session.almtd = false;
                            document.getElementsByClassName("A1")[0].innerText = "Tower Destroyed Off";
                        }
                        window.setElementToggleTo(script.session.almtd, "A1");
                    }
                    if (msg.startsWith("almaa,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almaa = true;
                            document.getElementsByClassName("A2")[0].innerText = "Antiarrow Shooting On";
                        } else {
                            script.session.almaa = false;
                            document.getElementsByClassName("A2")[0].innerText = "Antiarrow Shooting Off";
                        }
                        window.setElementToggleTo(script.session.almaa, "A2");
                    }
                    if (msg.startsWith("almhth,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almhth = true;
                            document.getElementsByClassName("A3")[0].innerText = "HealTower Triggered On";
                        } else {
                            script.session.almhth = false;
                            document.getElementsByClassName("A3")[0].innerText = "HealTower Triggered Off";
                        }
                        window.setElementToggleTo(script.session.almhth, "A3");
                    }
                    if (msg.startsWith("almgsd,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almgsd = true;
                            document.getElementsByClassName("A4")[0].innerText = "Stash Damaged On";
                        } else {
                            script.session.almgsd = false;
                            document.getElementsByClassName("A4")[0].innerText = "Stash Damaged Off";
                        }
                        window.setElementToggleTo(script.session.almgsd, "A4");
                    }
                    if (msg.startsWith("almthl,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almthl = true;
                            document.getElementsByClassName("A5")[0].innerText = "Tower Health <65% On";
                        } else {
                            script.session.almthl = false;
                            document.getElementsByClassName("A5")[0].innerText = "Tower Health <65% Off";
                        }
                        window.setElementToggleTo(script.session.almthl, "A5");
                    }
                    if (msg.startsWith("almphl,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almphl = true;
                            document.getElementsByClassName("A6")[0].innerText = "Player Health <65% On";
                        } else {
                            script.session.almphl = false;
                            document.getElementsByClassName("A6")[0].innerText = "Player Health <65% Off";
                        }
                        window.setElementToggleTo(script.session.almphl, "A6");
                    }
                    if (msg.startsWith("almpd,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almpd = true;
                            document.getElementsByClassName("A7")[0].innerText = "Player Death On";
                        } else {
                            script.session.almpd = false;
                            document.getElementsByClassName("A7")[0].innerText = "Player Death Off";
                        }
                        window.setElementToggleTo(script.session.almpd, "A7");
                    }
                    if (msg.startsWith("almsp,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almsp = true;
                            document.getElementsByClassName("A8")[0].innerText = "10+ Spears On";
                        } else {
                            script.session.almsp = false;
                            document.getElementsByClassName("A8")[0].innerText = "10+ Spears Off";
                        }
                        window.setElementToggleTo(script.session.almsp, "A8");
                    }
                    if (msg.startsWith("almhp,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almhp = true;
                            document.getElementsByClassName("A9")[0].innerText = "High Ping On";
                        } else {
                            script.session.almhp = false;
                            document.getElementsByClassName("A9")[0].innerText = "High Ping Off";
                        }
                        window.setElementToggleTo(script.session.almhp, "A9");
                    }
                    if (msg.startsWith("almsf,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almsf = true;
                            document.getElementsByClassName("A10")[0].innerText = "Server Filled On";
                        } else {
                            script.session.almsf = false;
                            document.getElementsByClassName("A10")[0].innerText = "Server Filled Off";
                        }
                        window.setElementToggleTo(script.session.almsf, "A10");
                    }
                    if (msg.startsWith("almdc,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.almdc = true;
                            document.getElementsByClassName("A11")[0].innerText = "Disconnect Alarm On";
                        } else {
                            script.session.almdc = false;
                            document.getElementsByClassName("A11")[0].innerText = "Disconnect Alarm Off";
                        }
                        window.setElementToggleTo(script.session.almdc, "A11");
                    }
                    if (msg.startsWith("breakinstatus,")) {
                        let servers = JSON.parse(msg.split(",  ;")[1]);
                        let el = document.getElementsByClassName("breakinstatus")[0];
                        if (el) {
                            if (servers.length > 0) {
                                el.innerHTML = "Breaking into: " + servers.join(", ");
                            } else {
                                el.innerHTML = "";
                            }
                        }
                    }
                    if (msg.startsWith("mb,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.mb = true;
                            document.getElementsByClassName("Z2")[0].innerText = "Disable Session Multibox";
                        } else {
                            script.session.mb = false;
                            document.getElementsByClassName("Z2")[0].innerText = "Enable Session Multibox";
                        }
                        window.setElementToggleTo(script.session.mb, "Z2");
                    }
                    if (msg.startsWith("mm,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.mm = true;
                            document.getElementsByClassName("Z4")[0].innerText = "Disable Session Mousemove";
                        } else {
                            script.session.mm = false;
                            document.getElementsByClassName("Z4")[0].innerText = "Enable Session Mousemove";
                        }
                        window.setElementToggleTo(script.session.mm, "Z4");
                    }
                    if (msg.startsWith("sc,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.sc = true;
                            document.getElementsByClassName("Z6")[0].innerText = "Disable Session Alt Scatter";
                        } else {
                            script.session.sc = false;
                            document.getElementsByClassName("Z6")[0].innerText = "Enable Session Alt Scatter";
                        }
                        window.setElementToggleTo(script.session.sc, "Z6");
                    }
                    if (msg.startsWith("aaj,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.aaj = true;
                            document.getElementsByClassName("Z8")[0].innerText = "Disable Session Autoaltjoin";
                        } else {
                            script.session.aaj = false;
                            document.getElementsByClassName("Z8")[0].innerText = "Enable Session Autoaltjoin";
                        }
                        window.setElementToggleTo(script.session.aaj, "Z8");
                    }
                    if (msg.startsWith("as,")) {
                        let toggle = msg.split(",  ;")[1];
                        if (toggle == "true") {
                            script.session.as = true;
                            document.getElementsByClassName("Z10")[0].innerText = "Disable Session Autospear";
                        } else {
                            script.session.as = false;
                            document.getElementsByClassName("Z10")[0].innerText = "Enable Session Autospear";
                        }
                        window.setElementToggleTo(script.session.as, "Z10");
                    }
                }
                verify(id) {
                    this.sendMessage(`verify,  ;${id}`);
                    this.connectedToId = id;
                }
                sendPacket(opcode, data) {
                    let buffer = new Uint8Array(game.network.codec.encode(opcode, data));
                    let arr = [1];
                    for (let i = 0; i < buffer.length; i++) {
                        arr.push(buffer[i]);
                    }
                    this.ws.readyState == 1 && this.ws.send(new Uint8Array(arr));
                }
                sendBuffer(buffer) {
                    let arr = [2];
                    for (let i = 0; i < buffer.length; i++) {
                        arr.push(buffer[i]);
                    }
                    this.ws.readyState == 1 && this.ws.send(new Uint8Array(arr));
                }
                createSession(sessionname, name, sid, psk, proxy) {
                    this.sendMessage(`createsession,  ;${sessionname},  ;${name},  ;${sid},  ;${psk},  ;${proxy.replace(" ", "")}`);
                }
                getSessions() {
                    this.sendMessage("getsessions");
                }
                disconnect() {
                    this.ws.close();
                }
                closeSession(id) {
                    this.sendMessage("closesession,  ;" + id);
                }
                reconnect(id = this.connectedToId, closed) {
                    !closed && (this.reconnecting = true);
                    this.disconnect();
                    this.ws = new User().ws;
                    this.ws.onopen = this.onOpen.bind(this);
                    this.ws.onmessage = this.onMessage.bind(this);
                    this.ws.onclose = this.onClose.bind(this);
                    this.ws.addEventListener("open", () => {
                        this.verify(id);
                    });
                }
                onClose() {
                    if (this.reconnecting) {
                        this.reconnecting = false;
                        return;
                    }
                    setTimeout(() => {
                        this.reconnect(this.connectedToId, true);
                    }, 1000);
                }
                Sanitize(e) {
                    let text = "";
                    for (let i = 0; i < e.length; i++) {
                        this.notAllowedCharsInHTML.has(e[i]) ? text += this.notAllowedCharsInHTML.get(e[i]) : text += e[i];
                    }
                    return text;
                }
                cipher(salt) {
                    const textToChars = text => text.split('').map(c => c.charCodeAt(0));
                    const byteHex = n => ("0" + Number(n).toString(16)).substr(-2);
                    const applySaltToChar = code => textToChars(salt).reduce((a, b) => a ^ b, code);
                    return text => text.split('').map(textToChars).map(applySaltToChar).map(byteHex).join('');
                }
                changePassword(password) {
                    this.sendMessage("changehasaccess,  ;" + password);
                }
                getLeaderboardData() {
                    this.sendMessage("getleaderboarddata");
                }
            }
            let showSessions = () => {
                user.sendMessage("getsesions");
            }
            let sendSession = () => {
                user.createSession(document.getElementsByClassName("sessionsessionname")[0].value, document.getElementsByClassName("sessionname")[0].value, document.getElementsByClassName("sessionsid")[0].value, document.getElementsByClassName("sessionpsk")[0].value, document.getElementsByClassName("dropdown")[1].value);
            }
            let enableAutoBreakIn = () => {
                user.sendMessage(`eabi,  ;${document.getElementsByClassName("sessionsid")[0].value}`);
                sendSession();
            }
            let disableAutoBreakIn = () => {
                user.sendMessage(`dabi,  ;${document.getElementsByClassName("sessionsid")[0].value}`);
            }
            let enableAutoRefiller = () => {
                user.sendMessage(`esrf,  ;${document.getElementsByClassName("sessionsid")[0].value},  ;${document.getElementsByClassName("dropdown")[1].value == "" ? "." : document.getElementsByClassName("dropdown")[1].value}`);
                sendSession();
            }
            let disableAutoRefiller = () => {
                user.sendMessage(`dsrf,  ;${document.getElementsByClassName("sessionsid")[0].value},  ;${document.getElementsByClassName("dropdown")[1].value == "" ? "." : document.getElementsByClassName("dropdown")[1].value}`);
            }
            let closeSession = () => {
                let id = parseInt(document.getElementsByClassName("closesessioninput")[0].value);
                id in user.activeSessions && user.closeSession(document.getElementsByClassName("closesessioninput")[0].value);
            }
            let closeAllSessions = () => {
                if (confirm("Are you sure you want to close ALL sessions?")) {
                    user.sendMessage("closeallsessions");
                }
            }
            let changesessionname = () => {
                let id = parseInt(document.getElementsByClassName("changesessionnameinput")[0].value);
                let name = document.getElementsByClassName("changesessionnameinput2")[0].value;
                user.sendMessage(`changesessionname,  ;${id},  ;${name}`);
            }
            let changesessionid = () => {
                let id = parseInt(document.getElementsByClassName("changesessionidinput")[0].value);
                let name = document.getElementsByClassName("changesessionidinput2")[0].value;
                user.sendMessage(`changesessionid,  ;${id},  ;${name}`);
            }
            let enablePartyRefiller = () => {
                let sid = document.getElementsByClassName("prfsid")[0].value;
                user.sendMessage(`eafp,  ;${sid}`);
            }
            let disablePartyRefiller = () => {
                let sid = document.getElementsByClassName("prfsid")[0].value;
                user.sendMessage(`dafp,  ;${sid}`);
            }
            let addPartyRefillerKey = () => {
                let sid = document.getElementsByClassName("prfsid")[0].value;
                let psk = document.getElementsByClassName("prfpsk")[0].value;
                user.sendMessage(`addafpsk,  ;${psk},  ;${sid}`);
                user.reconnect();
            }
            let removePartyRefillerKey = () => {
                let sid = document.getElementsByClassName("prfsid")[0].value;
                let psk = document.getElementsByClassName("prfpsk")[0].value;
                user.sendMessage(`removeafpsk,  ;${psk},  ;${sid}`);
                user.reconnect();
            }
            let changeSession = () => {
                user.reconnect();
            };
            document.getElementsByClassName("hud-intro-play")[1].onclick = () => {
                user.createSession(document.getElementsByClassName("sessionsessionname")[0].value, document.getElementsByClassName("hud-intro-name")[0].value, document.getElementsByClassName("hud-intro-server")[0].value, document.getElementsByClassName("sessionpsk")[0].value, document.getElementsByClassName("dropdown")[1].value);
            }
            document.getElementsByClassName("session_saver")[0].innerHTML = `
    <input class="btn sessionsessionname" value="Session" type="text" placeholder="session name" maxlength="20">
    <button class="btn autobreakinon" style="width: 37.5%" onclick="enableAutoBreakIn();">Enable Auto Break In</button>
    <input class="btn sessionname" value="Player"type="text" placeholder="name">
    <button class="btn autobreakinoff" style="width: 37.5%" onclick="disableAutoBreakIn();">Disable Auto Break In</button>
    <input class="btn sessionsid" value="v5001" type="text" placeholder="server id">
    <button class="btn autorefilleron" style="width: 37.5%" onclick="enableAutoRefiller();">Enable Auto Refiller</button>
    <input class="btn sessionpsk" value="putpartysharekeyhere" type="text" placeholder="party share key" maxlength="20"> 
    <button class="btn autorefilleroff" style="width: 37.5%" onclick="disableAutoRefiller();">Disable Auto Refiller</button>
    <br><br><hr><br>
    <input class="btn prfsid" value="v5001" style="width: 42.25%" type="text" placeholder="server id" maxlength="5">
    <input class="btn prfpsk" value="putpartysharekeyhere" style="width: 37.5%" type="text" placeholder="party share key" maxlength="20">
    <button class="btn addautofillkey" style="width: 42.25%" onclick="addPartyRefillerKey();">Add Party Refiller Key</button>
    <button class="btn enableautofillpsk" style="width: 37.5%" onclick="enablePartyRefiller();">Enable Party Refiller</button>
    <button class="btn removeautofillkey" style="width: 42.25%" onclick="removePartyRefillerKey();">Delete Party Refiller Key</button>
    <button class="btn disableautofillpsk" style="width: 37.5%" onclick="disablePartyRefiller();">Disable Party Refiller</button>
    <br><br><hr><br>
    <input class="btn closesessioninput" style="width: 29.25%" type="number" placeholder="ses id">
    <button class="btn sendsession" onclick="sendSession();">Send Session</button>
    <button class="btn closesession" onclick="closeSession();">Close Session</button>
    <button class="btn showsessions" onclick="showSessions();">Show Sessions</button>
    <br><br><hr><br>
    <input class="btn changesessionnameinput" style="width: 19.375%" type="number" placeholder="ses id">
    <input class="btn changesessionnameinput2" style="width: 19.375%" type="text" placeholder="ses name">
    <button class="btn changesessionname" style="width: 40%" onclick="changesessionname();">Change Session Name</button>
    <input class="btn changesessionidinput" style="width: 21.875%" type="number" placeholder="ses id">
    <input class="btn changesessionidinput2" style="width: 21.875%" type="number" placeholder="newest id">
    <button class="btn changesessionid" style="width: 35%" onclick="changesessionid();">Change Session Id</button>
    <br><br><hr><br>
    <button class="btn closeallsessions" style="width: 99%; background-color: #8B0000; color: white;" onclick="closeAllSessions();">Close All Sessions</button>
    <div class="breakinstatus" style="color: #ff6b6b; font-size: 13px; margin-top: 5px;"></div>
    `;
            document.getElementsByClassName("hud-intro-guide")[0].innerHTML = `
    <select class='btn dropdown'>
            <option>Localhost</option>
            <option>Sav</option>
	    <option>ilj</option>
            <option>Sav</option>
            <option>Savvps</option>
            <option>vpsone</option>
            <option>vpstwo</option>
            <option>vpsthree</option>
            <option>vpsfour</option>
        </select>
    <select class='btn dropdown'>
    </select>
    <select class='btn dropdown'>
    </select>
    <button class="btn" onclick='changeSession()'>Change Server</button>
    <p class="savedsessions"></p>
    `;
            let user = new User();
            document.getElementsByClassName("hud-intro-left")[0].setAttribute("style", "width: 510px; height: 400px; margin-top: 15px; overflow: auto; float: margin-right: 100px;");
            
        </script>
        <script src="/asset/script.js"></script>
        <script src="/asset/seeallspots.js"></script>
</body>